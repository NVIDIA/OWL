## Copyright 2021-2024 The Khronos Group
## SPDX-License-Identifier: Apache-2.0

@PACKAGE_INIT@

include(CMakeFindDependencyMacro)

set(THREADS_PREFER_PTHREAD_FLAG ON)
find_dependency(Threads)

include(${CMAKE_CURRENT_LIST_DIR}/owl-config.cmake)

if (NOT TARGET owl::owl)
  message(FATAL_ERROR "CMAKE_PREFIX_PATH or owl_DIR are pointing to a \
  owl build directory. Please do a full install of owl \
  (e.g. 'make install') and point to where you installed it \
  (CMAKE_INSTALL_PREFIX in your build of owl). \
  Consuming owl from a build directory is not supported.")
endif()
set(owl_FOUND ON)

set(OWL_DATAROOTDIR
  ${CMAKE_CURRENT_LIST_DIR}/../../../@CMAKE_INSTALL_DATAROOTDIR@/owl
  )

if (@OWL_HAVE_TBB@)
  find_dependency(TBB)
  set(OWL_HAVE_TBB ON)
endif()

find_dependency(CUDAToolkit)
   

foreach(component ${owl_FIND_COMPONENTS})
  # For requested component, execute its "config" script
  message("cfind component ${component}")
  if (EXISTS "${CMAKE_CURRENT_LIST_DIR}/${component}-config.cmake")
    include(${CMAKE_CURRENT_LIST_DIR}/${component}-config.cmake)
    set(${component}_FOUND ON)
  else()
    set(${component}_FOUND OFF)
  endif()
endforeach()

check_required_components(@PROJECT_NAME@)
